New in version 4.0:

1.  This directory now follows the convension of using .F as the
    filename extension and using the C preprocessor.  Also, there are
    Makefiles for the computer architectures to which I have access.
    It now passes the "implicit none" compiler flags.

2.  The bathsuds smoother is included.  This is an attempt at reducing
    the slope parameter defined in Beckmann and Haidvogel while
    retaining as much structure as possible.  The general wisdom on
    bathymetry smoothing is that you just do whatever (cheating) is
    required to get the model to run.  Note that this filter retains
    some 2 delta x signal, which you probably want to remove with a
    pass of bathsoap.

3.  bathsoap, bathsuds, and sphere now have an option to draw the
    coastlines from the xcoast 2.0 database.

4.  grid now uses a 64 bit precision mud2 version 3.0 or sepeli.  The
    sepeli option requires a spemlib dated 20 Feb. 1995 or newer.
    The double precision means that you will no longer need to
    generate a single precision spemlib just for the grid package.

    sepeli allows you to make a grid with any value of L, M as long
    as both are larger than 5.  sepeli also requires 64 bits of
    precision for non-trivial grids.

5.  tolat now has a flag for using maptri instead of mapinv, if you
    have NCAR graphics version 3.2.  maptri is *much* more reliable
    and flexible than mapinv.

6.  found and fixed a bug in grid.F when L!=M and when using the
    Lsmall!=L option.  This should make it easier to generate grids
    that are too fine for rect to handle, but not too fine for the
    elliptic solver to handle.

Not yet all there:
7.  xpots stuff in grid.  Actually, it works but not as nicely as in
    Rich Signell's version.  This option allows you to control the
    grid spacing along two boundaries more easily, using the xpots
    X11 program.  xpots.tar is in the pub/util directory on ahab.
    Example:

    (1) #define XPOTS1 and XPOTS4 to control the grid spacing on sides 1
        and 4.

    (2) run xpots with appropriate arguments.  If L=129,M=97 then you
        need "-N 257" and "-N 193".

        xpots -F fort.41 -N 193 &       # writes fort.41 for side 1
        xpots -F fort.44 -N 257 &       # writes fort.44 for side 4

    (3) set the sliders the way you want.  You will just have to try
        this and iterate.  Click on the "write" button.

    (4) make and run grid.  Look at the plots and go back to step (3)
	if not satisfied.

    Note: my xpots files are read before rect is called.  Rich has
    his set up to call rect ITMAX times and then iterate on a loop
    containing the xpots read, use the values, and plot.  I'll fix
    it next time I need a complex grid.


8.  examples.

9.  a manual.


New in version 3.0:

1.  There are now a number of include files, into which we have
    isolated most of the variables that a user would be likely to
    modify.

2.  We have broken out subroutines which are shared by more than one of
    these programs into separate files, so that they only have to be
    maintained in one place.

3.  To organize all the include files and shared subroutines, a
    Makefile is provided.  If you are running on a non-Unix system you
    are on your own.

4.  There is a bathymetry dataset in IEEE integer*2 format which can be
    read by the bathers program on at least a Sun and an Iris.  The
    bathymetry file is 18662400 bytes.  

5.  bathsoap and sphere now produce color (colour) contour plots if so
    desired.

6.  There are now example files for several grids, from which you
    should be able to create the grids and the SPEM files (possibly
    without bathymetry).  Each example has its files in a subdirectory
    of this one.  Just copy the files to this directory, edit the
    Makefile for your system, and run 'make'.  The examples are:

    a. The original California coast lat, lon file with a conformal
       conic projection.  The stereographic inversion in tolat is so
       nasty that only the bold should try it.  If you need a
       stereographic projection, the USGS has a map projection package
       which you should look into.  A manual for this package is
       available from:

	  Gerry Evenden
	  U.S. Geological Survey
	  Quissett Campus
	  Woods Hole, MA  02543

   	  gctp: available via anonymous ftp
		ftp to nmdpow9.er.usgs.gov (128.128.19.24)
		cd pub/software/current_software/gctp


    b. A Tasman sea grid with a Mercator projection.

    c. A rectangular grid used for a periodic channel run.  No
       projections are used.
       Use grid, sphere, and stretch.

    d. A North Atlantic basin grid.  The classic example of why this
       gridding scheme is not flexible enough.  We ran this with a flat
       bottom.

    e. A Northeast Atlantic grid.

7.  sphere will now optionally recalculate the pm and pn arrays for a
    spherical geometry.  This is only valid if you are using a conformal
    projection such as Mercator, conformal conic, or stereographic.

Future improvements:

1.  Bathymetry smoothing in matlab.
